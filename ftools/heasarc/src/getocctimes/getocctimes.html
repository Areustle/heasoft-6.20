<!--=======================================-->
<!--  HEADAS HTML HELP FILE TEMPLATE, v1.1 -->
<!--=======================================-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
<head>
<style type="text/css">
  body { margin-left: 5%; margin-right: 5%; }
  h1,h2,h3,h4 { margin-left: -5%;}
</style>
<title>HEADAS help file</title>
</head>
<body>

<h2>NAME</h2>

getocctimes - Calculate the occultation times of a source as seen from an orbiting observatory due to the Earth blocking the source.

<h2>USAGE</h2>

<tt>getocctimes ra dec orbitfile outfile</tt>

<h2>DESCRIPTION</h2>

This task calculates the times when occultations of a source begin and
end due to the Earth's position between a satellite and a source. The
required input parameters are the right ascension and declination of
the source; an orbit file (Suzaku format) containing the satellite
position in rectangular coordinates, the time, and the weight; and an
output text file in which the occultation times will be stored. The
occultation times are sorted and duplicates are removed.

Occultation times are calculated only within the time range of the
orbit file.  Multiple orbit files can be processed by giving the name
of a text file with one orbit filename in each line.  Occultations can
also be calculated above a certain atmospheric thickness rather than
at the Earth's surface by specifying the atmthickness parameter.
Optional parameters for the Earth equatorial radius and polar
flattening are included.


<h2>PARAMETERS</h2>
<dl>

<dt>ra = 0.
<dd>The right ascension of the source in decimal degrees.
<dt>dec = 0.
<dd>The declination of the source in decimal degrees.
<dt>orbitfile = "" [filename]
<dd>Either a comma-separated list of orbit filenames or a filename of a list of orbit files, one per line.  The list filename must be prefixed with "@" and the file must have one orbit filename per line.
<dt>outfile = "" [filename]
<dd>The filename to which to write the occultation times.  The file will be clobbered only if the filename is prefixed with "!".
<dt>(atmthickness = 0)
<dd>The thickness (km) of the Earth's atmosphere (altitude) at which the occultations are defined to begin or end.  The default value of 0 refers to the Earth's surface.
<dt>(earthrad = 6378.136)
<dd>The equatorial radius of the Earth (km).
<dt>(flattening = 0.033528131779)
<dd>The polar flattening parameter: polar radius = (1 - flattening) * earthrad.


<h2>EXAMPLES</h2>

1. Calculate the occultation times of a source (ra = 3.452, dec =
-46.334) from a satellite whose orbit is described by the 2nd
extension of orbit file orb.fits. Output the occultation times in file
occtimes.

<p>
<pre>
     getocctimes ra=3.452 dec=-46.334 orbitfile=orb.fits[2] outfile=occtimes.txt
</pre>

2. Calculate the occultation times for the same source when the source
line of sight is 10 km above the Earth's surface.  Calculate these
times for all the orbit files listed in orblist.txt and store them in
allocctimes.txt.
<p>
<pre>
     getocctimes ra=3.452 dec=-46.334 atmthickness=10 orbitfile=@orblist.txt outfile=allocctimes.txt
</pre>


<h2>LAST MODIFIED</h2>

December 2010
</body>
</html>
