<!--=======================================-->
<!--  HEADAS HTML HELP FILE TEMPLATE, v1.1 -->
<!--=======================================-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
<head>
<style type="text/css">
  body { margin-left: 5%; margin-right: 5%; }
  h1,h2,h3,h4 { margin-left: -5%;}
</style>
<title>HEADAS help file</title>
</head>
<body>

<h2>NAME</h2>

sxsseccor -- Correct PHA for secondary events


<h2>USAGE</h2>

<tt>sxsseccor infile outfile</tt> 

<h2>DESCRIPTION</h2>

<p>
'sxsseccor' correct the telemetered PHA values of the medium secondary events using the time and the PHA 
information of all preceding events belonging  to the same group. A group is defined as a primary event and 
all associated  secondary events occurring within a pixel. 
The events are flags belonging to  group by the task 'sxssecid' and the assignment written in the column GROUPS.

The secondary correction depends on the SXS pulse shape, which depends  on energy range and pixel number. 
The pulse shapes are stored in a CALDB  file specified by the parameter 'pulsefile'.   

</p>


<h2>PARAMETERS</h2>
<dl>

<p>
<dt>infile [filename]</dt>
<dd>Input SXS event file name. The file must have time assigned.</dd>
</p>

<p>
<dt>outfile [filename]</dt>
<dd>Name of the output file. This is a copy of the input file with a new
column added (see phaout parameter) filled with the corrected PHA values. </dd>
</p>

<p>
<dt>(pulsefile=CALDB) [filename]</dt>
<dd>Input file containing PHA pulse amplitudes for each pixel for multiple
energy regions.  If set to CALDB, the file is queried for in the calibration
database.</dd>
</p>

<p>
<dt>(itypecol=ITYPE) [string]</dt>
<dd>Name of the column used to identify grades for the
primary/secondary association and grade sequence.
</dd>
</p>

<p>
<dt>(phaout=PHA2) [string]</dt>
<dd>Name of new column to fill with the corrected PHA values.  An error 
occurs if this is set to "PHA".
</dd>
</p>

<p>
<dt>(buffer = -1) [integer] </dt>
<dd> Rows to buffer (-1=auto, 0=none, >0=numrows). </dd>
</p>

<p>
<dt>(clobber = no) [boolean]</dt>
<dd>Overwrites the existing output file if set to yes (yes/[no]). </dd>
</p>

<p>
<dt>(chatter = 1) [integer] </dt>
<dd>Chatter level for output. Set to 0 to suppress output, 
or to 1, 2, or 3 for increasing the chatter of the output. </dd>
</p>

<p>
<dt>(logfile = !DEFAULT) [string]</dt>
<dd>Log filename. If set to DEFAULT uses the name of the task and, if
preceded by '!', overwrite the file if it exists. If set to NONE no
log file is created. </dd>
</p>

<p>
<dt>(debug = no) [boolean]</dt>
<dd>Diagnostic output is printed out on the screen if set to yes
(yes/[no]).</dd>
</p>

<p>
<dt>(history = yes) [boolean]</dt>
<dd>Records tool parameters in HISTORY  ([yes]/no).</dd>

<p>
<dt>(mode = ql) [string ql|hl|q]</dt>
<dd>Mode to query the parameter file. 
Acceptable values include: 'ql' (query and learn/remember), 'hl' (hidden and learn/remember), 'q' (query but don't remember), 'h' (hidden).(Optional) </dd>
</p>

</dl>

<h2>EXAMPLES</h2>

<p>
1.  Correct PHA values for mid-resolution secondary events using the pulse
    amplitude file in CALDB.  Event grades are determined from the ITYPE 
    column and the corrected PHA values are written to the column PHA2.

<p>
<pre>
      sxsseccor infile=event_in.fits outfile=event_out.fits phaout=PHA2
</pre>
<p>


<h2>SEE ALSO</h2>

sxssecid

<h2>LAST MODIFIED</h2>
21 April 2016

</body>
</html>
