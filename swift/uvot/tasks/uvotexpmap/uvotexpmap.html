<!--=======================================-->
<!--  HEADAS HTML HELP FILE TEMPLATE, v1.1 -->
<!--=======================================-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
<head>
<style type="text/css">
  body { margin-left: 5%; margin-right: 5%; }
  h1,h2,h3,h4 { margin-left: -5%;}
</style>
<title>HEADAS help file</title>
</head>
<body>

<h2>NAME</h2>

uvotexpmap - generate exposure maps for UVOT sky images

<h2>USAGE</h2>

<tt>uvotexpmap infile=&lt;filename&gt; outfile=&lt;filename&gt;</tt>

<h2>DESCRIPTION</h2>

This tool generates exposure maps given a UVOT level 2 sky image product.  An exposure map is created for each extension in the image file.

<h2>PARAMETERS</h2>
<dl>

<dt>infile [filename]
<dd>UVOT level 2 sky image file (see SSC UVOT Data Handbook).
<p>

<dt>badpixfile [filename]
<dd>Bad pixel file.  See the Data Handbook for the bad pixel file format.  It has extension names corresponding to those in the sky image file.  The bad pixel file is created by uvotbadpix.
<p>

<dt> method [MEANFOV|SHIFTADD]
<dd> Exposure map method.  If method is MEANFOV, then the exposure map is based on a single attitude
(the attitude at the same time used when projecting the image onto the
sky).  If method is SHIFTADD, then the processing follows the attitude changes during the exposure as given by the aspect following packets and/or attitude data and the trackfile parameter should be set.
<p>


<dt>attfile [filename]
<dd>Attitude history file (in coordfits/ATTFILE format).
<p>

<dt>teldeffile [filename]
<dd>Telescope definition file (coordfits/TELDEF format).
<p>

<dt>outfile [filename]
<dd>Exposure map output file.  One extension for each image extension in the input sky image file.  See Data Handbook for details.  
<p>

<dt>(maskfile = NONE) [filename]
<dd> Name of optional output mask file which can be used to screen out outer pixels to suppress edge-effects.  This maskfile can be passed as an input parameter to uvotimsum.
<p>

<dt>(masktrim = 0) [integer]
<dd>Mask trimming control.  This parameter is only used if maskfile is not NONE.  A positive value gives the number of pixels to be trimmed from the top/bottom/left/right or the mask.  A negative value trims the mask based on the attitude variation during the exposure.  The special value 0 is treated as -1 if method is MEANFOV, or 1 if method is SHIFTADD.
<p>

<dt>(trackfile = NONE) [filename]
<dd>If method is SHIFTADD, this gives the name of the aspect following housekeeping file (sw*uaf.hk).
<p>

<dt>(attdelta = 100) [real]
<dd>Maximum change in attitude exposure map increments [arcsec].
<p>

<dt>(aberration = no) [boolean]
<dd>Account for velocity aberration?
<p>

<dt>(refattopt = NONE) [string]
<dd>Conditions under which to use reference (instead of sampled) attitude.  See minnow options parameter for details.
<p>

<dt>(chatter = 1) [enumerated integer]
<dd>Standard HEAdas chatter parameter.
A range of 0 to 5 is enforced by the min and max fields in the parameter file.
<p>

<dt>(cleanup = yes) [boolean]
<dd>Clean up temporary files?
<p>

<dt>(clobber = no) [boolean]
<dd>Standard HEAdas clobber parameter.
<p>

<dt>(history = yes) [boolean]
<dd>Standard HEAdas history parameter.
<p>

</dl>
<h2>EXAMPLES</h2>
<p>
The following examples illustrate running uvotexpmap
<p>
1. run uvotexpmap prompting for options
<p>

<pre>
      uvotexpmap
</pre>

2. run uvotexpmap in command line specifying sky image input, bad pixel and attitude files, and create a mask that screens out edge-effects
<p>
<pre>
      uvotexpmap infile=skyimages.fits badpixfile=badpixels.fits attfile=attitude.fits maskfile=mask.fits
</pre>

<h2>SEE ALSO</h2>
expomap, uvotbadpix, uvotimsum

<p>

<p>

<h2>LAST MODIFIED</h2>

June 2007
</body>
</html>
