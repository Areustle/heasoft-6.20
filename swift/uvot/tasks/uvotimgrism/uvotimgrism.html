<!--=======================================-->
<!--  HEADAS HTML HELP FILE TEMPLATE, v1.1 -->
<!--=======================================-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
<head>
<style type="text/css">
  body { margin-left: 5%; margin-right: 5%; }
  h1,h2,h3,h4 { margin-left: -5%;}
</style>
<title>HEADAS help file</title>
</head>
<body>

<h2>NAME</h2>

uvotimgrism - extract UVOT grism spectra

<h2>USAGE</h2>

<tt>uvotimgrism infile=&lt;filename&gt; outfile=&lt;filename&gt;</tt>

<h2>DESCRIPTION</h2>

This tool extracts the grism dispersed region including the 0th order from a V or UV grism image and calculates a wavelength scale.  The source extraction region is a rectangular box in a fixed relationship to the source position.  The background regions widths and offsets are controlled by user parameters.

<p> The user must supply the sourcex and sourcey parameters giving the 0th order position on the detector in FITS input image coordinates.  The use of the ra and dec parameters is not yet implemented, and these must be set to a negative number.

<h2>PARAMETERS</h2>
<dl>

<dt>infile [filename]
<dd>UVOT V or UV grism detector image file (see SSC UVOT Data Handbook).
<p>

<dt>outfile [filename]
<dd>Output file for source+background spectrum and extracted source region.
<p>

<dt>backfile [filename]
<dd>Output file for background spectrum.
<p>

<dt>(areafile = CALDB) [filename]
<dd>UVOT flux calibration (effective area) file (see SSC UVOT Data Handbook).
<p>

<dt>(wavefile = CALDB) [filename]
<dd>UVOT grating equation calibration file (see SSC UVOT Data Handbook).
<p>

<dt>badpixfile = NONE [filename]
<dd>Bad pixel file (as created by uvotbadpix).  The special value NONE
causes a bad pixel image to be created with no bad pixels.
<p>


<dt>ra [real]
<dd>Right ascension of source [degrees].   
If negative, sourcex/y will be used.    Currently sourcex/y MUST be used as the
RA/Dec interface is not yet implemented.           
<p>

<dt>dec [real] 
<dd>Declination of source [degrees].    Not yet implemented.
<p>

<dt>(sourcex = 0) [real]
<dd>X centroid of zeroth order in input FITS image [pix].
Note that sourcex/y are only used if ra is negative.
<p>

<dt>(sourcey = 0) [real]
<dd>Y centroid of zeroth order in input FITS image [pix].
Note that sourcex/y are only used if ra is negative.
<p>

<dt>(ang = -1) [real]
<dd>Angle (CCW) from X axis to 1st order grism [degrees].
The default value (-1) uses a lookup table for the angle based on the
WHEELPOS keyword.  The value depends on the grism mode and is set to
144.5 (U grism clocked) or 151.4 (U grism nominal)
or 140.5 (V grism clocked) or 148.1 (V grism nominal).
<p>

<dt>(wavemin = 1600) [real]
<dd>Minimum wavelength of wave scale [A]
<p>

<dt>(wavemax = 2900) [real]
<dd>Maximum wavelength of wave scale [A]
<p>

<dt>(srcwid = 30) [integer]
<dd>Width of 1st order source extraction region [pixels]
<p>

<dt>(bkgwid1 = 10) [integer]
<dd>Width of lower background region [pixels]
<p>

<dt>(bkgoff1 = 10) [integer]
<dd>Separation of lower background region from source region [pixels]
<p>

<dt>(bkgwid2 = 10) [integer]
<dd>Width of upper background region [pixels]
<p>

<dt>(bkgoff2 = 10) [integer]
<dd>Separation of upper background region from source region [pixels]
<p>

<dt>(inreg = DEFAULT) [string]
<dd>Name of region file to create to indicate extraction regions in infile image.  The value DEFAULT causes a region file with the same base name as infile and a .reg extension to be created.  The value NONE causes no region file to be created.  Otherwise, the value of inreg is taken to be the name of the region file to create.
<p>

<dt>(nsigma = 5) [real]
<dd>N sigma for determining outliers in background.
<p>

<dt>(history = yes) [boolean]
<dd>Standard HEAdas history parameter.
<p>

<dt>(cleanup = yes) [boolean]
<dd>Clean up temporary files?
<p>
<dt>(clobber = no) [boolean]
<dd>Standard HEAdas clobber parameter.
<p>

<dt>(chatter = 1) [enumerated integer]
<dd>Standard HEAdas chatter parameter.
<p>

</dl>

<h2>EXAMPLES</h2>

The following example illustrates running uvotimgrism
<p>
1. run uvotimgrism on a given level 2 grism image file
<p>

<pre>
      uvotimgrism infile=sw123456789ugv.fits
</pre>


<h2>SEE ALSO</h2>
uvotevgrism

<p>

<p>

<h2>LAST MODIFIED</h2>
December 2007
</body>
</html>
