<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>transform_wcs HEADAS help file</title>
</head>
<body>
<h2>NAME</h2>transform_wcs - Modifies WCS keywords according to a transform<h2>USAGE</h2>
<tt>transform_wcs infile=&lt;string&gt;
         transform=&lt;string&gt;
         outfile=&lt;string&gt;
        </tt>
<h2>DESCRIPTION</h2>
    
<P>
    Modify a set of WCS keywords to account for a transform applied to the
    underlying image. This tool can be used to adjust a set of WCS keywords
    to account for a transform applied by the imagetrans tool, or it may be
    used to apply windowing and binning to a set of WCS keywords extracted
    by the getwcs tool.
    </P>

    
<P>
    A set of WCS keywords specify a transform and a reference pixel. This tool
    applies the given transform to the reference pixel and then combines the
    inverse of the transform and the WCS transform in that order to get a
    new WCS transform.
    </P>

    
<P>
    Note that WCS keywords are linear, so it is not possible to apply a
    non-linear transform to them.
    </P>
    
<h2>PARAMETERS</h2>
<dl>
<dt>infile [string]</dt>
<dd>
<p>The file containing the WCS keywords to be transformed.</p>
</dd>
<dt>outfile [string]</dt>
<dd>
<p>The file into which this tool will write the transformed keywords. Any existing WCS keywords are overwritten. If the file does not exist, the tool will create a new one with an empty image. The outfile can be the same as the infile.</p>
</dd>
<dt>transform [string]</dt>
<dd>
<p>The FITS file containing the transform to be applied to the pixels which the WCS keywords refer to. This file may be generated by the getxform or combinexform tools.</p>
</dd>
<dt> (chatter = 1) [integer]</dt>
<dd>
<p>Output verbosity</p>
</dd>
<dt> (history = yes) [boolean]</dt>
<dd>
<p>Write HISTORY keywords to output?</p>
</dd>
</dl>
<h2>EXAMPLES</h2>
    
<P>
    Suppose you have a DET coordinate image called "det.img" for which
    you want to have WCS keywords describing RA and Dec. Note this is
    meaningful only if the spacecraft was stationary during the exposure.
    First you would write the sky WCS keywords to det.img with
    
    getwcs outfile=det.img coord=SKY
    
    Next you get the transform from SKY to DET coordinates with
    
    getxform from=SKY to=DET image=yes outfile=sky2det.trans
    
    Finally, you transform the sky WCS keywords to the DET image with
    
    transform_wcs infile=det.img transform=sky2det.trans outfile=det.img
    
    </P>

    
<P>
    Suppose you have an image "full.img", from which you have cropped the
    first 100 pixels in X and Y to get "cropped.img". Suppose also that you
    want the cropped.img to have the same world coordinates as full.img.
    First, You get the transform describing the crop with:
    
    combinexform  outfile=crop.trans command="trans(-100,-100)"
    
    Then you transform the WCS keywords with
    
    transform_wcs infile=full.img transform=crop.trans outfile=cropped.img
    
    </P>


    
<h2>SEE ALSO</h2>
        
<P>
        
<a href="getwcs.html">getwcs</a>,
        <a href="imagetrans.html">imagetrans</a>,
        </P>
    
<h2>LAST MODIFIED</h2>April 2004</body>
</html>
